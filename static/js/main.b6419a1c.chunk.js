(this["webpackJsonpui-marketsystem"]=this["webpackJsonpui-marketsystem"]||[]).push([[0],{23:function(e,t,n){},24:function(e,t,n){},44:function(e,t,n){"use strict";n.r(t);var c=n(1),r=n.n(c),o=n(17),s=n.n(o),a=(n(23),n(24),n(3)),i=n(4),d=n.n(i),j=n(18),u=n(8),l=n(46),p="https://marketsystem.herokuapp.com/",b=function(e,t,n,c,r){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"01/01/2099",s=[];t.forEach((function(e){for(var t=0;t<e.quantidade;t++)s.push(e.codigo)}));var a={cpfComprador:c,cnpjVendedor:r,codigosProdutos:s,dateBoleto:o},i=o.split("/"),j=new Date(+i[0],+i[1]-1,+i[2]);return t.reduce((function(e,t){return e+ +t.preco*+t.quantidade}),0)>e?alert("Ta querendo comprar com dinheiro de quem"):Object(l.a)(Date.now(),j)&&"boleto"===n?alert("Boleto vencido"):void d.a.post(p+n,a).then((function(e){return console.log(e.status)}))},h=n(0),O=function(e){var t=e.cnpj,n=e.cpf,r=Object(c.useState)([]),o=Object(a.a)(r,2),s=o[0],i=o[1],l=Object(c.useState)(0),p=Object(a.a)(l,2),O=p[0],f=p[1],m=Object(c.useState)(""),x=Object(a.a)(m,2),v=x[0],g=x[1];Object(c.useEffect)((function(){d.a.get("https://marketsystem.herokuapp.com/produtos-vendedor?id=".concat(t)).then((function(e){return e.data.produtos})).then((function(e){return e.map((function(e){return Object(u.a)(Object(u.a)({},e),{},{quantidade:0})}))})).then((function(e){return i(e)})),d.a.get("https://marketsystem.herokuapp.com/comprador?id="+n).then((function(e){return e.data.saldo})).then((function(e){return f(e)}))}),[t,n]);return Object(h.jsxs)("div",{children:[Object(h.jsx)("h1",{children:"Cat\xe1logo"}),Object(h.jsxs)("div",{className:"total-field",children:[Object(h.jsxs)("h2",{children:["Saldo: R$",O]}),Object(h.jsxs)("h2",{children:["Total - R$"," ",s.reduce((function(e,t){return e+ +t.preco*+t.quantidade}),0)]})]}),Object(h.jsxs)("div",{children:[Object(h.jsx)("p",{children:"Formas de Pagamento:"}),Object(h.jsxs)("form",{children:[Object(h.jsx)("p",{children:"Insira o vencimento em caso de boleto:"}),Object(h.jsx)("input",{type:"text",value:v,placeholder:"dd/mm/aaaa",onChange:function(e){return g(e.target.value)}}),Object(h.jsx)("br",{}),Object(h.jsx)("button",{type:"submit",onClick:function(){return b(O,s,"pix",n,t)},children:"PIX"}),Object(h.jsx)("button",{type:"submit",onClick:function(){return b(O,s,"credito",n,t)},children:"Credito"}),Object(h.jsx)("button",{type:"submit",onClick:function(){return b(O,s,"debito",n,t)},children:"Debito"}),Object(h.jsx)("button",{type:"submit",onClick:function(){return b(O,s,"boleto",n,t)},children:"Boleto"})]})]}),s.map((function(e){return Object(h.jsxs)("div",{className:"product-field",children:[Object(h.jsx)("p",{children:"Nome - ".concat(e.nome)}),Object(h.jsx)("p",{children:"Codigo - ".concat(e.codigo)}),Object(h.jsx)("p",{children:"Preco - ".concat(e.preco)}),Object(h.jsxs)("label",{children:[Object(h.jsx)("p",{children:"Quantidade de produtos:"}),Object(h.jsx)("input",{type:"text",value:e.quantidade,id:e.codigo,onChange:function(e){return function(e){var t=e.id,n=e.value,c=Object(j.a)(s);c.map((function(e){return e.codigo===t&&(e.quantidade=n),e})),i(c)}(e.target)}})]})]},e.codigo)}))]})},f=function(e){var t=e.idPerson,n=Object(c.useState)({purchases:0,nome:"",saldo:0,cpf:"",toPay:0}),r=Object(a.a)(n,2),o=r[0],s=r[1];return Object(c.useEffect)((function(){d.a.get("https://marketsystem.herokuapp.com/comprador?id="+t).then((function(e){return s(e.data)}))}),[t]),Object(h.jsxs)("div",{children:[Object(h.jsxs)("p",{children:["Nome: ",o.nome]}),Object(h.jsxs)("p",{children:["CPF: ",o.cpf]}),Object(h.jsxs)("p",{children:["Saldo: ",o.saldo]}),Object(h.jsxs)("p",{children:["Compras Realizadas: ",o.purchases]}),Object(h.jsxs)("p",{children:["Valores a Pagar: ",o.toPay]})]})},m=function(e){var t=e.idPerson,n=Object(c.useState)({purchases:0,nome:"",saldo:0,cnpj:"",toReceive:0}),r=Object(a.a)(n,2),o=r[0],s=r[1];return Object(c.useEffect)((function(){d.a.get("https://marketsystem.herokuapp.com/vendedor?id="+t).then((function(e){return s(e.data)}))}),[t]),Object(h.jsxs)("div",{children:[Object(h.jsxs)("p",{children:["Nome: ",o.nome]}),Object(h.jsxs)("p",{children:["CNPJ: ",o.cnpj]}),Object(h.jsxs)("p",{children:["Saldo: ",o.saldo]}),Object(h.jsxs)("p",{children:["Vendas Realizadas: ",o.purchases]}),Object(h.jsxs)("p",{children:["Valores a Receber: ",o.toReceive]})]})},x=function(){var e=Object(c.useState)([]),t=Object(a.a)(e,2),n=t[0],r=t[1],o=Object(c.useState)([]),s=Object(a.a)(o,2),i=s[0],j=s[1],u=Object(c.useState)("11111"),l=Object(a.a)(u,2),p=l[0],b=l[1],x=Object(c.useState)("4444"),v=Object(a.a)(x,2),g=v[0],k=v[1];return Object(c.useEffect)((function(){d.a.get("https://marketsystem.herokuapp.com/compradores").then((function(e){return e.data.compradores})).then((function(e){return r(e)})),d.a.get("https://marketsystem.herokuapp.com/vendedores").then((function(e){return e.data.vendedores})).then((function(e){return j(e)}))}),[]),Object(h.jsxs)("div",{children:[Object(h.jsx)("h1",{children:"Market UI"}),Object(h.jsxs)("form",{children:[Object(h.jsxs)("fieldset",{className:"field-select",children:[Object(h.jsx)("h2",{children:"Comprador"}),Object(h.jsx)("select",{name:"compradores",id:"compradores",value:p,onChange:function(e){var t=e.target;return b(t.value)},children:n.map((function(e){return Object(h.jsxs)("option",{value:e.cpf,children:[e.nome," - ",e.cpf]},e.cpf)}))})]}),Object(h.jsxs)("fieldset",{className:"field-select",children:[Object(h.jsx)("h2",{children:"Vendedor"}),Object(h.jsx)("select",{name:"vendedores",id:"vendedores",value:g,onChange:function(e){var t=e.target;return k(t.value)},children:i.map((function(e){return Object(h.jsxs)("option",{value:e.cnpj,children:[e.nome," - ",e.cnpj]},e.cnpj)}))})]})]}),Object(h.jsxs)("div",{children:[Object(h.jsxs)("div",{className:"perfis",children:[Object(h.jsx)("h2",{children:"Perfil Comprador"}),Object(h.jsx)(f,{idPerson:p})]}),Object(h.jsxs)("div",{className:"perfis",children:[Object(h.jsx)("h2",{children:"Perfil Vendedor"}),Object(h.jsx)(m,{idPerson:g})]}),Object(h.jsx)(O,{cnpj:g,cpf:p})]})]})};var v=function(){return Object(h.jsx)(x,{})},g=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,47)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,o=t.getLCP,s=t.getTTFB;n(e),c(e),r(e),o(e),s(e)}))};s.a.render(Object(h.jsx)(r.a.StrictMode,{children:Object(h.jsx)(v,{})}),document.getElementById("root")),g()}},[[44,1,2]]]);
//# sourceMappingURL=main.b6419a1c.chunk.js.map
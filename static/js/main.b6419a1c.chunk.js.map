{"version":3,"sources":["util/payments.js","components/Catalog.js","components/ProfileComprador.js","components/ProfileVendedor.js","pages/Home.js","App.js","reportWebVitals.js","index.js"],"names":["URL_BASE","payments","balance","order","type","cpf","cnpj","dateBoleto","orderArray","forEach","element","index","quantidade","push","codigo","objectRequest","cpfComprador","cnpjVendedor","codigosProdutos","dateArr","split","dateBestBefore","Date","reduce","acc","act","preco","alert","isAfter","now","axios","post","then","r","console","log","status","Catalog","props","useState","catalogo","setCatalogo","saldo","setSaldo","vencimento","setVencimento","useEffect","get","data","produtos","map","elem","className","value","placeholder","onChange","e","target","onClick","nome","id","newCatalog","handleQuantity","ProfileComprador","idPerson","purchases","toPay","comprador","setComprador","ProfileVendedor","toReceive","vendedor","setVendedor","Home","listaCompradores","setListaCompradores","listaVendedores","setListaVendedores","selectComprador","setSelectComprador","selectVendedor","setSelectVendedor","compradores","vendedores","name","App","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.b6419a1c.chunk.js","sourcesContent":["import axios from \"axios\";\nimport {isAfter} from \"date-fns\";\n\nconst URL_BASE = 'https://marketsystem.herokuapp.com/'\n\nconst payments = (balance, order, type, cpf, cnpj, dateBoleto = '01/01/2099') => {\n  const orderArray = [];\n  \n  order.forEach(element => {\n    for (let index = 0; index < element.quantidade; index++) {\n      orderArray.push(element.codigo)\n    }\n  });\n  \n  const objectRequest = {\n    cpfComprador: cpf,\n    cnpjVendedor: cnpj,\n    codigosProdutos: orderArray,\n    dateBoleto,\n  }\n\n  const dateArr = dateBoleto.split('/'); \n  \n  const dateBestBefore = new Date(+dateArr[0], +dateArr[1] - 1, +dateArr[2])\n\n  if (order.reduce((acc, act) => acc + +act.preco * +act.quantidade, 0) > balance) {\n   return alert(\"Ta querendo comprar com dinheiro de quem\")\n  }\n\n  if(isAfter(Date.now(), dateBestBefore) && type === 'boleto'){\n    return alert(\"Boleto vencido\")\n  }\n  \n  axios.post(URL_BASE+type, objectRequest)\n    .then(r => console.log(r.status))\n}\n\nexport default payments","import axios from \"axios\";\nimport { useEffect, useState } from \"react\";\nimport payments from \"../util/payments\";\n\nconst Catalog = (props) => {\n  const { cnpj, cpf } = props;\n  const [catalogo, setCatalogo] = useState([]);\n  const [saldo, setSaldo] = useState(0);\n  const [vencimento, setVencimento] = useState(\"\");\n\n  const URL_COMP = \"https://marketsystem.herokuapp.com/comprador?id=\";\n\n  useEffect(() => {\n    axios\n      .get(`https://marketsystem.herokuapp.com/produtos-vendedor?id=${cnpj}`)\n      .then((r) => r.data.produtos)\n      .then((r) => r.map((elem) => ({ ...elem, quantidade: 0 })))\n      .then((r) => setCatalogo(r));\n\n    axios\n      .get(URL_COMP + cpf)\n      .then((r) => r.data.saldo)\n      .then((r) => setSaldo(r));\n  }, [cnpj, cpf]);\n\n  const handleQuantity = ({ id, value }) => {\n    const newCatalog = [...catalogo];\n    newCatalog.map((elem) => {\n      if (elem.codigo === id) elem.quantidade = value;\n      return elem;\n    });\n\n    setCatalogo(newCatalog);\n  };\n\n  return (\n    <div>\n      <h1>Cat√°logo</h1>\n      <div className=\"total-field\">\n        <h2>Saldo: R${saldo}</h2>\n        <h2>\n          Total - R${\" \"}\n          {catalogo.reduce((acc, act) => acc + +act.preco * +act.quantidade, 0)}\n        </h2>\n      </div>\n      <div>\n        <p>Formas de Pagamento:</p>\n        <form>\n          <p>Insira o vencimento em caso de boleto:</p>\n          <input\n            type=\"text\"\n            value={vencimento}\n            placeholder=\"dd/mm/aaaa\"\n            onChange={(e) => setVencimento(e.target.value)}\n          />\n          <br />\n          <button\n            type=\"submit\"\n            onClick={() => payments(saldo, catalogo, \"pix\", cpf, cnpj)}\n          >\n            PIX\n          </button>\n          <button\n            type=\"submit\"\n            onClick={() => payments(saldo, catalogo, \"credito\", cpf, cnpj)}\n          >\n            Credito\n          </button>\n          <button\n            type=\"submit\"\n            onClick={() => payments(saldo, catalogo, \"debito\", cpf, cnpj)}\n          >\n            Debito\n          </button>\n          <button\n            type=\"submit\"\n            onClick={() => payments(saldo, catalogo, \"boleto\", cpf, cnpj)}\n          >\n            Boleto\n          </button>\n        </form>\n      </div>\n\n      {catalogo.map((elem) => {\n        return (\n          <div key={elem.codigo} className=\"product-field\">\n            <p>{`Nome - ${elem.nome}`}</p>\n            <p>{`Codigo - ${elem.codigo}`}</p>\n            <p>{`Preco - ${elem.preco}`}</p>\n            <label>\n              <p>Quantidade de produtos:</p>\n              <input\n                type=\"text\"\n                value={elem.quantidade}\n                id={elem.codigo}\n                onChange={(e) => handleQuantity(e.target)}\n              />\n            </label>\n          </div>\n        );\n      })}\n    </div>\n  );\n};\n\nexport default Catalog;\n","import axios from \"axios\";\nimport { useEffect, useState } from \"react\"\n\nconst ProfileComprador = (props) => {\n  const {idPerson} = props;\n  const URL_COMP = 'https://marketsystem.herokuapp.com/comprador?id='\n\n  const COMPRADOR = {\n    purchases: 0,\n    nome: \"\",\n    saldo: 0,\n    cpf: \"\",\n    toPay: 0\n  }\n\n  const [comprador, setComprador] = useState(COMPRADOR)\n\n  useEffect(() => {\n    axios\n      .get(URL_COMP+idPerson)\n      .then(r => setComprador(r.data))\n  }, [idPerson])\n\n  return (\n    <div>\n      <p>Nome: {comprador.nome}</p>\n      <p>CPF: {comprador.cpf}</p>\n      <p>Saldo: {comprador.saldo}</p>\n      <p>Compras Realizadas: {comprador.purchases}</p>\n      <p>Valores a Pagar: {comprador.toPay}</p>\n    </div>\n  )\n\n  \n}\n\nexport default ProfileComprador;","import axios from \"axios\";\nimport { useEffect, useState } from \"react\"\n\nconst ProfileVendedor = (props) => {\n  const {idPerson} = props;\n  const URL_VEND = 'https://marketsystem.herokuapp.com/vendedor?id='\n\n  const VENDEDOR = {\n    purchases: 0,\n    nome: \"\",\n    saldo: 0,\n    cnpj: \"\",\n    toReceive: 0\n  }\n\n  const [vendedor, setVendedor] = useState(VENDEDOR)\n\n  useEffect(() => {\n    axios\n      .get(URL_VEND+idPerson)\n      .then(r => setVendedor(r.data))\n  }, [idPerson])\n\n  return (\n    <div>\n      <p>Nome: {vendedor.nome}</p>\n      <p>CNPJ: {vendedor.cnpj}</p>\n      <p>Saldo: {vendedor.saldo}</p>\n      <p>Vendas Realizadas: {vendedor.purchases}</p>\n      <p>Valores a Receber: {vendedor.toReceive}</p>\n    </div>\n  )\n\n  \n}\n\nexport default ProfileVendedor;","import axios from \"axios\";\nimport { useEffect, useState } from \"react\";\nimport Catalog from \"../components/Catalog\";\nimport ProfileComprador from \"../components/ProfileComprador\";\nimport ProfileVendedor from \"../components/ProfileVendedor\";\n\nconst Home = () => {\n  const [listaCompradores, setListaCompradores] = useState([]);\n  const [listaVendedores, setListaVendedores] = useState([]);\n  const [selectComprador, setSelectComprador] = useState(\"11111\");\n  const [selectVendedor, setSelectVendedor] = useState(\"4444\");\n\n  useEffect(() => {\n    axios\n      .get(\"https://marketsystem.herokuapp.com/compradores\")\n      .then((r) => r.data.compradores)\n      .then((r) => setListaCompradores(r));\n\n    axios\n      .get(\"https://marketsystem.herokuapp.com/vendedores\")\n      .then((r) => r.data.vendedores)\n      .then((r) => setListaVendedores(r));\n  }, []);\n\n  return (\n    <div>\n      <h1>Market UI</h1>\n      <form>\n        <fieldset className=\"field-select\">\n          <h2>Comprador</h2>\n          <select\n            name=\"compradores\"\n            id=\"compradores\"\n            value={selectComprador}\n            onChange={({ target }) => setSelectComprador(target.value)}\n          >\n            {listaCompradores.map((elem) => (\n              <option value={elem.cpf} key={elem.cpf}>\n                {elem.nome} - {elem.cpf}\n              </option>\n            ))}\n          </select>\n        </fieldset>\n        <fieldset className=\"field-select\">\n        <h2>Vendedor</h2>\n        <select\n          name=\"vendedores\"\n          id=\"vendedores\"\n          value={selectVendedor}\n          onChange={({ target }) => setSelectVendedor(target.value)}\n        >\n          {listaVendedores.map((elem) => (\n            <option value={elem.cnpj} key={elem.cnpj}>\n              {elem.nome} - {elem.cnpj}\n            </option>\n          ))}\n        </select>\n        </fieldset>\n        \n      </form>\n      <div>\n        <div className=\"perfis\">\n          <h2>Perfil Comprador</h2>\n          <ProfileComprador idPerson={selectComprador} />\n        </div>\n        <div className=\"perfis\">\n          <h2>Perfil Vendedor</h2>\n          <ProfileVendedor idPerson={selectVendedor} />\n        </div>\n        <Catalog cnpj={selectVendedor} cpf={selectComprador} />\n      </div>\n    </div>\n  );\n};\n\nexport default Home;\n","import './App.css';\nimport Home from './pages/Home';\n\nfunction App() {\n  return (\n    <Home/>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}